<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>QR Scanner liÃªn tá»¥c</title>
  <style>
    body {
      text-align: center;
      font-family: sans-serif;
    }

    #video {
      width: 100%;
      max-width: 360px;
      height: auto;
      border: 4px solid #4CAF50;
      border-radius: 12px;
      margin-top: 20px;
    }

    textarea {
      margin-top: 20px;
      width: 90%;
      height: 200px;
      font-size: 1.2rem;
    }
  </style>
</head>
<body>
  <h2>ðŸ“· QuÃ©t QR liÃªn tá»¥c</h2>
  <video id="video" autoplay muted playsinline></video>
  <textarea id="resultArea" placeholder="Káº¿t quáº£ sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y..."></textarea>

  <!-- QR Scanner script -->
  <script src="https://unpkg.com/qr-scanner@1.4.2/qr-scanner.umd.min.js"></script>
  <script>
    QrScanner.WORKER_PATH = 'https://unpkg.com/qr-scanner@1.4.2/qr-scanner-worker.min.js';

    const videoElem = document.getElementById('video');
    const resultArea = document.getElementById('resultArea');
    const scannedList = new Set(); // Ä‘á»ƒ trÃ¡nh trÃ¹ng láº·p

    const scanner = new QrScanner(videoElem, result => {
      if (!scannedList.has(result)) {
        scannedList.add(result);
        resultArea.value += result + "\n";
      }
    }, {
      highlightScanRegion: true,
      maxScansPerSecond: 5
    });

    scanner.start();
  </script>
</body>
</html>
